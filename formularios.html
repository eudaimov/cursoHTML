<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formularios</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Formularios</h1>
    <h2>Para qué sirven</h2>
    <p>Un formulario es utilizado en la mayoría de las páginas web para recoger diverso tipo de información y enviarla a un servidor.</p>
    
    <h2>Composición o estructura:</h2>
    <p>El elemento raíz de un formulario esta formado por el elemento &lt;form&gt; &lt;/form&gt;</p>
    <p>Dentro de este elemento y de manera anidada se encuentran  diferentes tipos de  elementos como:</p>
    <ul>
        <li>label</li>
        <li>input</li>
        <li>text area</li>
        <li>select</li>
        <ul style="margin-left:2em;">
            <li>option</li>
        </ul>
        <li>datalist</li>
        <ul style="margin-left:2em;"><li>option</li></ul>
        <li>output</li>
       
        <li>fieldset</li>
        <ul><li>legend</li></ul>
    </ul>



    <h2>Atributos del elemento Form</h2>
    <section>
        <p>En esta sección se describen los atributos que pueden encontrarse dentro del elemento form.</p>
        <h3>Atributo action:</h3>
            <p>Este atributo nos dice hacia dónde se dirigen los datos, por regla general es a un endpoint que se encuentra detras del servidor, sino se 
                nada, se supone que se envía a la misma página.</p>
            <p></p>
        <h3>Atributo target:</h3>
                <p>Este atributo nos dice dónde se cargara la respuesta, los diferentes valores por los que se puede optar son:</p>
                <ul>
                    <li>_blank La respuesta se muestra en una pestaña o ventana diferente.</li>
                    <li>_self La respuesta se muestra en la misma pestaña o ventana.</li>
                    <li>_parent La respuesta se muestra en frame padre.</li>
                    <li>_top La respuesta se recibe en el cuerpo de la ventana.</li>
                    <li>frameName La respuesta se muestra en el iframe de dicho nombre.</li>
                </ul>
        <h3>Atributo method:</h3>
            <p>Define la manera en que se van a enviar los datos al servidor.</p> 
            <p>Esta acción se realiza automáticamente  a través del input o entrada de campo de tipo submit.</p>
            <p>Los métodos mas conocidos son Get and Post</p>
            <p>Get es el valor por defecto.</p>
            <h4>Método get:</h4>
            <p>Agrega los datos del formulario a la URL, en pares de nombre/valor</p>
            <p>¡NUNCA use GET para enviar datos confidenciales! (¡Los datos del formulario enviado son visibles en la URL!)</p>
            <p>La longitud de una URL es limitada (2048 caracteres)</p>
            <p>Útil para envíos de formularios en los que un usuario desea marcar el resultado</p>
            <p> GET es bueno para datos no seguros, como cadenas de consulta en Google</p>
            <h4>Método Post</h4>
            <p>Agrega los datos del formulario dentro del cuerpo de la solicitud HTTP (los datos del formulario enviado no se muestran en la URL)</p>
            <p>POST no tiene limitaciones de tamaño y se puede utilizar para enviar grandes cantidades de datos.</p>
            <p>Los envíos de formularios con POST no se pueden marcar</p>
            <p> ¡siempre use POST si los datos del formulario contienen información confidencial o personal!</p>
        <h3>Atributo autocomplete</h3>
                <p>El autocompleteatributo especifica si un formulario debe tener activado o desactivado el autocompletado.</p>
                <p>Cuando la función de autocompletar está activada, el navegador completa 
                    automáticamente los valores en función de los valores que el usuario ha ingresado anteriormente.</p>

        <h3>Atributo Novalidate</h3>
                <p>Cuando está presente, especifica que los datos del formulario (entrada) no deben validarse cuando se envían.</p>
        <h3>Atributo accept-charset</h3>
            <p>El accept-charset especifica las codificaciones de caracteres que se utilizarán para el envío del formulario.</p>
        <h3>Atributo enctype</h3>
                    <p>El enctype atributo especifica cómo se deben codificar los datos del formulario al enviarlos al servidor.</p>
                    <p>Sólo se usa cuando se envía por el método post</p>
                    <p>application/x-www-form-urlencoded Predeterminado. Todos los caracteres se codifican
                         antes de enviarse (los espacios se convierten en símbolos "+" y los caracteres especiales se convierten en valores ASCII HEX)
                        multipart/form-data  Este valor es necesario si el usuario cargará un archivo a través del formulario 
                        text/plain Envía datos sin ningún tipo de codificación. No recomendado</p>
        <h3>Atributo rel</h3>
                        <p>El atributo rel especifica la relación entre el documento actual y el documento vinculado.</p>
                        <p>Los valores posibles son:</p>
                         <table>
                            <thead><tr><td> Valor</td><td>Descripción</td></tr></thead>
                            <tbody>
                                <tr>
                                    <td>External</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>help</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>license</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>next</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>nofollow</td>
                                    <td>Enlaces a un documento no respaldado, como un enlace pagado. 
                                        ("nofollow" es utilizado por Google para especificar que la araña de búsqueda de Google no debe seguir ese enlace)</td>
                                </tr>
                                <tr>
                                    <td>noopener</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>noreferrer</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>opener</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>prev</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>search</td>
                                    <td></td>
                                </tr>

                            </tbody>
                         </table>
                
                
               
    </section>

    <h2>Label</h2>
    <p>Este elemento nos sirve para identificar el contenido que va ir dentro de su correspondiente campo de entrada, 
        para relacionar el elemento label con su input correspondiente se utiliza 
        el atributo for.
    </p>
    <p>
        Como valor del atributo for se escribir el mismo que hemos dado en el atributo id del elemento input.
        Como contenido, escribiremos una palabra o palabras que nos expliquen lo que estamos introduciendo en nuestro input.       
    </p>
    <p>Ejemplo:</p>
    <pre class="codigo">
        &lt;form&gt;
            &lt;label for="fname"&gt;Nombre:&lt;/label&gt;&lt;br&gt;
            &lt;input type="text" id="fname" name="fname"&gt;
            &lt;br&gt;
            &lt;label for="lname"&gt;Apellidos:&lt;/label&gt;&lt;br&gt;
            &lt;input type="text" id="lname" name="lname"&gt;
        &lt;/form&gt;</pre>
    <div class="codigo">
        <form>
            <label for="fname">Nombre:</label><br>
            <input type="text" id="fname" name="fname"><br>
            <label for="lname">Apellidos:</label><br>
            <input type="text" id="lname" name="lname">
        </form>
    </div>
    
    <h2>Input</h2>
    <p>Son elementos mas usados y existen de muy diversos tipos. Son conocidos como campos de entrada de los formularios. 
        Delante de cada elemento <em>input</em> suele ir antecedido por el elemento &lt;label&gt; &lt;label&gt;, aunque no siempre es así. </p>
   

    <h3>Tipos de campos de entrada:</h2>
    <p>Como hemos dicho antes existen diferentes tipos de entrada, para indicar estos tipos de entrada se utiliza 
        el atributo type.
    </p>
    <p>Los diferentes tipos de entrada son:</p>
    <ul>
        <li>text: Es el más común de los input, y de define una linea de texto de entrada</li>
            <p class="codigo">&lt;label for="nombre">Nombre&lt/label&gt; &lt;input type="text" name="nombre"&gt;&lt;/input&gt;</p>
            <p class="codigo"><label for="nombre">Nombre:&emsp;</label><input type="text" name="nombre"></input></p>
        <li>radio: Permite seleccionar una única acción. El atributo name debe de ser igual entre aquellas opciones que se deben elegir. Por ejemplo:</li>
            <pre class="codigo">
    &lt;p&gt;Selecciona un lenguaje:&lt;p&gt;
    &lt;input type="radio" id="html" name="lenguaje"&gt;&lt;label for="html"&gt;&emsp;HTML &lt;/label&gt; &lt;br&gt;
    &lt;input type="radio" id="css" name="lenguaje"&gt;&lt;label for="css"&gt;&emsp;CSS &lt;/label&gt; &lt;br&gt;
    &lt;input type="radio" id="javascript" name="lenguaje"&gt;&lt;label for="javascript"&gt;&emsp;JavaScript &lt;/label&gt; &lt;br&gt;</pre>
            <div class="codigo">
                <p>Selecciona un lenguaje:</p>
                <p>
                    <input type="radio" id="html" name="lenguaje"><label for="html">&emsp;HTML</label><br>
                    <input type="radio" id="css" name="lenguaje"><label for="css">&emsp;CSS</label><br>
                    <input type="radio" id="javascript" name="lenguaje"><label for="javascript">&emsp;JavaScript</label><br>
                </p>
            </div>


        <li>checkbox: Se utiliza como casilla de verificación, permite seleccionar ninguna o varias opciones de un número limitado.</li>
        <p>Ejemplo:</p>
        <div class="codigo">
            <p>Elije los vehículos que poseas:</p>
            <form action="">
                <input type="checkbox" name="transporte" id="coche" value="Coche"><label for="coche">Coche</label><br>
                <input type="checkbox" name="transporte" id="bicicleta" value="Bicicleta"><label for="bicicleta">Bicicleta</label><br>
                <input type="checkbox" name="transporte" id="moto" value="Moto"><label for="moto">Moto</label><br>
                <input type="checkbox" name="transporte" id="patinete" value="Patinete"><label for="patinete">Patinete</label><br>
            </form>
        </div>

        <li>submit: Define un botón que envía los datos de un formulario al servidor según el atributo action del formulario.</li>
        <pre class="codigo">
            &lt;form action="/example_action.php"&gt;
                &lt;label for="nombre"&gt;Nombre:&emsp;&lt;/label&gt;
                &lt;input type="text" id="nombre" name="nombre" value="Félix"&gt;&lt;br&gt;
                &lt;input type="submit" value="Enviar datos"&gt;
              &lt;/form&gt; </pre>
        <div class="codigo">
            <form action="/example_action.php">
                <label for="nombre">Nombre:&emsp;</label>
                <input type="text" id="nombre" name="nombre" value="Félix"><br>
                <input type="submit" value="  Enviar datos  ">
              </form>
            </div>
        <li>button</li>
        <li>date</li>
        <li>color</li>
        <li>datetime-local</li>
        <li>email</li>
        <li>file</li>
        <li>hidden</li>
        <li>image</li>
        <li>month</li>
        <li>password: Define un campo de tipo contraseña. Los caracteres introducidos serán ocultos tras unos asterisco o puntos.</li>
        <p class="codigo">&lt;label for="pass">Contraseña&lt;/label>&lt;input type="password" name="pass"></p>
        <p class="codigo"><label for="pass">Contraseña:&emsp;</label><input type="password" name="pass"></p>
        <li>range</li>
        <li>reset</li>
        <li>search</li>
        <li>tel</li>
        <li>time</li>
        <li>url</li>
        <li>week</li>
        
    </ul>
        
    
    <h3>Atributos input</h3>
  
  
  
  
    <h2>Otros elementos de entrada para formularios:</h2>
    <h3>ComboBox: Select, option </h3>
    <h3>textArea</h3>
    <h3>fielset y legend</h3>
    <h2>Recibir datos del Formulario</h2>
    Un formulario recoge datos introducidos por el usuario y los envía a un programa para tratarlos según las necesidades de cada caso. Desde HTML podemos recoger los datos mediante la etiqueta form que hemos visto en esta unidad, pero el tratamiento de los datos se realiza mediante programación web (PHP, JAVA, ...) que es algo que queda fuera de este curso. Por lo tanto sólo vamos a ver brevemente los fundamentos de este proceso.

Para entender el proceso debemos saber que una página web se ejecuta en el ordenador del usuario (cliente) mediante el programa navegador web (Chrome, Firefox, ...) y al pulsar en el botón que envía el formulario, se envían los datos a través de internet (protocolo HTTP) a un ordenador especial, llamado servidor, este ejecuta el programa especificado en el atributo action. El programa realiza las operaciones previstas y devuelve una respuesta al ordenador del usuario, también a través de internet mediante HTTP.

Este proceso de comunicación tiene lugar de forma síncrona, es decir, el cliente y el servidor no están conectados permanentemente, aunque la respuesta es tan rápida que da la impresión que si lo sea, en realidad cada uno envía una petición y espera a que el otro responda, sin tener ocupada la línea de comunicación de forma continua. Por esto, el cliente y el servidor deben establecer mecanismos para intercambiar los datos durante todo el proceso. Esto está relacionado con el método que indiquemos en el formulario (get, post) pero es algo de lo que se encarga el protocolo de comunicación HTTP y donde nosotros no intervenimos a nivel de HTML. En conjunto, este proceso se conoce como arquitectura cliente/servidor con la que funcionan las páginas web.



Lo más usual es que el formulario envíe los datos a un programa del servidor pero también puede enviarlos a un programa que se ejecute en el ordenador del cliente.

Vamos a ver dos sencillos ejemplos de ambos casos, uno con PHP en el servidor y otro con Javascript en el cliente.
<h2> Problemas de seguridad con los formularios</h2>
Al enviar datos al servidor utilizando un formulario debemos tener en cuenta los problemas de seguridad que conlleva. De hecho, la mayoría de los ataques maliciosos se realizan a través de formularios, por lo tanto es un problema muy serio que hay que tener en cuenta y que necesitaría un curso completo para tratarlo en profundidad, aquí solo vamos a dar unas ideas básicas.

El problema está en el mal uso que se puede hacer de los formularios, no en los propios formularios. Un formulario usado normalmente no supone ningún problema de seguridad, el problema está en que un usuario malintencionado escriba código malicioso en los campos del formulario.

Hay varios tipos de ataques, los ataques XSS y CSRF se basan en introducir código malicioso utilizando instrucciones de javascript u otros lenguajes de forma que cuando el programa recibe los datos del formulario en lugar de, por ejemplo, un apellido está recibiendo un pequeño programa que se ejecutará dentro del servidor.

Otro tipo de ataque es SQL injection que es similar al anterior pero en este caso se intenta introducir código SQL para que se ejecute dentro del sistema de base de datos del servidor.

Para evitar estos ataques hay que tomar precauciones, la más usada es filtrar todos los datos enviados desde los formularios, es algo que hay que realizar siempre, no podemos pensar que nuestros usuarios no van a intentar dañarnos.

Para filtrar los datos existen muchas técnicas diversas, las más simples consisten en utilizar las instrucciones de filtrado (desinfección) que poseen muchos lenguajes, y otras más avanzadas las encontramos en las funciones que proporcionan los frameworks.
<h2>Formularios y Captcha</h2>
Un problema que se presenta en determinadas páginas que utilizan formularios es que un programa (robot) pueda responder y enviar el formulario en lugar de un ser humano. Esto puede ser problemático en diversos tipos de situaciones, por ejemplo en una página para darse de alta en un servicio (correo, foro, etc.) ya que si un robot es capaz de dar de alta miles de cuentas cada hora puede colapsar el sistema, o hacer un uso fraudulento posteriormente. Otros ejemplos serían contestar encuestas online de forma engañosa, participar en foros, etc.

Para evitar este problema se han hecho populares los CAPTCHA ( Completely Automated Public Turing test to tell Computers and Humans Apart ) que no son más que una prueba que un robot no pueda superar, de esta forma evitaríamos que enviase el formulario. Los CAPTCHA más usados se basan en mostrar una imagen con letras distorsionadas que sean dificiles de distinguir, con lo cual un programa automático de reconocimiento de caracteres (OCR) no podrá identificarlas y no pasará la prueba, otro tipo de prueba es hacer preguntas sobre una imagen que sean difíciles de responder para un robot, o hacer preguntas genéricas, etc.

captcha

La fiabilidad del CAPTCHA no es del 100% y siempre es posible que alguien sea capaz de programar un robot para resolver un tipo de CAPTCHA concreto. Pero en general son un método bastante seguro para solucionar o minimizar el problema, todo depende de lo bien hecho que esté el CAPTCHA.

Existen CAPTCHA de uso público y gratuito, como reCAPTCHA
</body>

</html>